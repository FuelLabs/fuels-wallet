<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button id="connect">Connect</button>
    <button id="disconnect">Disconnect</button>
    <button id="getAccounts">Get accounts</button>
    <script>
      function init() {
        FuelWeb3.on("accounts", (data) => {
          console.log("accounts", data);
        });
        FuelWeb3.on("connection", (data) => {
          console.log("connection", data);
        });
        async function connect() {
          console.log("connect");
          try {
            const connect = await FuelWeb3.connect();
            console.log(connect ? "connected!" : "disconnected!");
          } catch (err) {
            console.log(err);
          }
        }
        async function disconnect() {
          console.log("disconnect");
          try {
            const connect = await FuelWeb3.disconnect();
            console.log("disconnected!");
          } catch (err) {
            console.log(err);
          }
        }
        async function getAccounts() {
          console.log("getAccounts");
          try {
            const accounts = await FuelWeb3.accounts();
            console.log("accounts!", accounts);
          } catch (err) {
            console.log(err);
          }
        }
        document.getElementById("connect").addEventListener("click", connect);
        document
          .getElementById("getAccounts")
          .addEventListener("click", getAccounts);
        document
          .getElementById("disconnect")
          .addEventListener("click", disconnect);
      }
      setTimeout(() => init(), 3000);
    </script>
  </body>
</html>
